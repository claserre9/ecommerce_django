{% extends "master_page.html" %}
{% load static %}

{% block title %}
    Sign up
{% endblock %}

{% block content %}
    <div class="container">
        <br>
        <form action="" method="post">
            {% csrf_token %}
            {% for field in form %}
                <div class="fieldWrapper">
                    {#{{ field.errors }}#}
                    {{ field.label_tag }}
                    {{ field }}
                </div>
            {% endfor %}
            <button class="btn waves-effect waves-light" type="submit" name="action">Sign up
                <i class="material-icons right">send</i>
            </button>
        </form>
        <br>
    </div>

{% endblock %}

{% block javascript %}
    {{ block.super }}
    {% if form.errors %}
        {% for field in form %}
            {% for error in field.errors %}
                <script>
                    $(document).ready(function () {
                        M.toast({html: "{{ field.label }}: {{ error|escape }}"})
                    })
                </script>
            {% endfor %}
        {% endfor %}
    {% endif %}
{% endblock %}